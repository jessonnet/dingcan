import{h as _,B as T,o as B,r as n,c as s,d as o,f as i,w as r,E as p,b as C,e as l,J as v,K as y,j as S,t as g,q as N}from"./index-ce9dfe13.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const E={class:"order-status-container"},b={class:"card-header"},O={class:"order-status-content"},U={class:"meal-type-summary"},q={class:"meal-type-orders"},z={class:"order-names-container"},F={__name:"OrderStatus",setup(I){const c=_(T().format("YYYY-MM-DD")),d=_({}),k=_(0),m=_([]),V=t=>({早餐:"warning",午餐:"success",晚餐:"primary",夜宵:"danger"})[t]||"info",f=async()=>{try{if(!c.value){p.warning("请选择日期");return}const t=await C.get("/api/chef/order-status",{params:{orderDate:c.value}});if(console.log("订餐情况响应:",t),t.success){d.value=t.data||{},k.value=t.totalCount||0;const a=Object.keys(d.value);a.length>0&&(m.value=[a[0]])}else p.error(t.message||"加载订餐情况失败")}catch(t){console.error("加载订餐情况错误:",t),p.error("加载订餐情况失败，请检查网络连接")}};return B(()=>{f()}),(t,a)=>{const x=n("el-date-picker"),Y=n("el-tag"),D=n("el-collapse-item"),M=n("el-collapse"),w=n("el-card");return s(),o("div",E,[i(w,null,{header:r(()=>[l("div",b,[a[2]||(a[2]=l("span",null,"订单管理",-1)),i(x,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"180px"},onChange:f},null,8,["modelValue"])])]),default:r(()=>[l("div",O,[l("div",U,[(s(!0),o(v,null,y(d.value,(e,u)=>(s(),o("div",{key:u,class:"meal-type-summary-item"},[i(Y,{size:"large",type:V(e.mealType.name)},{default:r(()=>[S(g(e.mealType.name)+"："+g(e.count)+" 份 ",1)]),_:2},1032,["type"])]))),128))]),l("div",q,[i(M,{modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=e=>m.value=e)},{default:r(()=>[(s(!0),o(v,null,y(d.value,(e,u)=>(s(),N(D,{key:u,title:e.mealType.name+"（"+e.count+" 份）",name:u},{default:r(()=>[l("div",z,[(s(!0),o(v,null,y(e.orders,h=>(s(),o("div",{key:h.id,class:"order-name-item"},g(h.name),1))),128))])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])])])]),_:1})])}}},L=j(F,[["__scopeId","data-v-0842e806"]]);export{L as default};
