import{d as u,z as w,i as C,r as n,o as s,c as o,b as _,w as r,m as S,E as h,a as l,F as p,A as v,f as B,t as y,j as N}from"./index-cf2541ee.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";const E={class:"order-status-container"},b={class:"card-header"},z={class:"order-status-content"},F={class:"meal-type-summary"},O={class:"meal-type-orders"},U={class:"order-names-container"},A={__name:"OrderStatus",setup(I){const m=u(w().format("YYYY-MM-DD")),c=u({}),k=u(0),i=u([]),V=t=>({早餐:"warning",午餐:"success",晚餐:"primary",夜宵:"danger"})[t]||"info",g=async()=>{try{const t=await S.get("/api/chef/order-status",{params:{orderDate:m.value}});if(console.log("订餐情况响应:",t),t.success){c.value=t.data||{},k.value=t.totalCount||0;const a=Object.keys(c.value);a.length>0&&(i.value=[a[0]])}else h.error(t.message||"加载订餐情况失败")}catch(t){console.error("加载订餐情况错误:",t),h.error("加载订餐情况失败，请检查网络连接")}};return C(()=>{g()}),(t,a)=>{const x=n("el-date-picker"),Y=n("el-tag"),D=n("el-collapse-item"),M=n("el-collapse"),T=n("el-card");return s(),o("div",E,[_(T,null,{header:r(()=>[l("div",b,[a[2]||(a[2]=l("span",null,"订餐情况",-1)),_(x,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),type:"date",placeholder:"选择日期","value-format":"YYYY-MM-DD",style:{width:"180px"},onChange:g},null,8,["modelValue"])])]),default:r(()=>[l("div",z,[l("div",F,[(s(!0),o(p,null,v(c.value,(e,d)=>(s(),o("div",{key:d,class:"meal-type-summary-item"},[_(Y,{size:"large",type:V(e.mealType.name)},{default:r(()=>[B(y(e.mealType.name)+"："+y(e.count)+" 份 ",1)]),_:2},1032,["type"])]))),128))]),l("div",O,[_(M,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e)},{default:r(()=>[(s(!0),o(p,null,v(c.value,(e,d)=>(s(),N(D,{key:d,title:e.mealType.name+"（"+e.count+" 份）",name:d},{default:r(()=>[l("div",U,[(s(!0),o(p,null,v(e.orders,f=>(s(),o("div",{key:f.id,class:"order-name-item"},y(f.name),1))),128))])]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])])])]),_:1})])}}},G=j(A,[["__scopeId","data-v-30176a83"]]);export{G as default};
